# 왜 목적지에 따라 출발지 표시가 다른가
## 의문점 발생
```bash
[root@m-k8s 4.3.1]# curl 192.168.1.10:60431
src: 192.168.1.10 / dest: 192.168.1.10
[root@m-k8s 4.3.1]# curl 127.0.0.1:60431
src: 172.17.0.1 / dest: 127.0.0.1
```
- 현재 구동중인 호스트의 가상 인터페이스 IP(192.168.1.10)와 로컬호스트 IP(127.0.0.1)의 60431번 포트에 요청을 보낸다.
- 이 때, 출발지의 IP(src)가 서로 다름을 확인할 수 있다. 왜 이런 차이가 생기는 것일까?

## 
- 호스트 인터페이스(eth1)의 IP가 192.168.1.10이고, 컨테이너 브리지 인터페이스(docker0)의 IP는 172.17.0.1이다.
- eth1은 외부 요청을 받아들이는 네트워크 인터페이스이고, docker0는 도커 컨테이너가 사용하는 네트워크 인터페이스이다.
- 따라서, 도커 컨테이너가 외부와 통신하기 위해서는 docker0를 거쳐야 한다.

- 도커 컨테이너는 생성될 때 docker0에 부여된 172.17.0.0/16 범위에 해당하는 172.17.0.2~172.17.255.254 사이의 IP를 할당받는다.
- 컨테이너 내부로 요청을 보낼 경우 출발지는 앞에서 실행한 첫 번째 명령의 수행 결과와 같이 192.168.1.10:60431이 표시된다.

- 내부 IP에서 컨테이너 내부로 요청을 전달할 경우 docker-proxy 프로세스가 컨테이너 내부로 요청을 전달하는 역할을 한다.
- 이 과정에서는 도커가 사용하는 네트워크 인터페이스의 IP인 172.17.0.1을 출발지로 사용하게 된다.
