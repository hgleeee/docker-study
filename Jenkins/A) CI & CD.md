# CI와 CD

## 도커와 쿠버네티스까지의 흐름
1. 애플리케이션 소스 코드를 내려받아 도커 컨테이너 이미지로 빌드
2. 빌드한 컨테이너 이미지를 쿠버네티스에서 사용할 수 있도록 레지스트리에 등록
3. 레지스트리에 등록된 이미지를 기반으로 쿠버네티스 오브젝트를 생성
4. 생성된 오브젝트(파드/디플로이먼트)를 외부에서 접속할 수 있도록 서비스 형태로 노출

## CI(Continuous Integration, 지속적 통합)
> 애플리케이션의 버그 수정이나 새로운 코드 변경이 주기적으로 빌드 및 테스트되면서 공유되는 레파지토리에 통합되는 것을 의미

### 1) 코드 변경사항을 주기적으로 빈번하게 merge
- 만일, 2명 이상의 개발자가 협업을 한다고 가정했을 때 몰아서 merge 한다고 가정하자.
- 이렇게 되면 충돌하는 코드가 많아지는 상황이 발생할 수 있다.
- 따라서, 가능한 작은 단위로 나누어서 주기적으로 빈번히 개발하고 계속해서 통합해 나가는 것이 중요하다.

```
1) 개발자들은 github 등의 관리 시스템에 통합
2) 통합한 코드가 제대로 동작하는지 빌드 및 테스트 진행
3) 버그 발생 시 버그 해결
```

### 2) 통합 단계의 자동화
- 빌드와 테스트하는 과정은 굳이 사람이 하지 않더라도 되는 작업이다.
- 통합할 때마다 진행해주어야 하는 과정이기 때문에 자동화가 있다면 효율이 올라간다.
- github에 코드만 올려도 나머지 작업인 빌드와 테스트가 자동으로 진행된다면 편리하다.

### CI의 장점
- 코드의 검증에 들어가는 시간이 줄어든다.
- 개발 편의성이 증가한다.
- 테스트 코드를 통과한 코드만 레포지터리에 올라가므로 좋은 코드 퀄리티 유지가 가능하다.

## CD(Continuous Deployment, 지속적 배포)
- 배포할 준비가 되자마자 자동화를 통해 배포를 진행하는 것이 지속적 배포이다.

```
1) CI를 적용해 코드를 검증
2) 배포 환경과 비슷한 곳에서 검증 진행
3) 검증된 소프트웨어를 실제 프로덕션 환경으로 배포
```

### CD의 장점
- 개발자는 배포보다는 개발에 더욱 신경쓸 수 있도록 도와준다.
- 개발자가 원클릭으로 수작업 없이 빌드, 테스트, 배포까지 편리하게 가능하다.















