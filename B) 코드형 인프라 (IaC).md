# 코드형 인프라 (IaC, Infrastructure as Code)
> 코드로 하드웨어를 설정하고, 운영체제를 설치하고, 네트워크를 구성하고, 개발 환경을 구축하는 것

## 개요
- 현대에는 인프라 구축과 운영으로써 실제 컴퓨터를 사거나 방화벽을 구축하고 제공하는 등의 일을 하지 않는다.
- 그보다 모든 것에 클라우드와 자동화 기술을 사용해 짧은 시간 안에 더 안정적으로 작업할 수 있는 환경을 구성하는 것에 노력한다.
- 인프라 리소스의 규모, 복잡성, 다양성의 증가로 클라우드 인프라 자동화 기술이 중요해졌고, 따라서 코드형 인프라가 등장하였다.

> 예시 : DB를 추가한다거나 서버의 성능을 업그레이드 하는 등의 리소스 필요 시 이런 변경에 대한 안정성을 제공하기 위해 관리가 필요하고, 이를 위해 코드로 관리하는 방법을 제시한다.

## TDD, CI, CD와의 관계 (이점)
1. 인프라로 신속한 배포 가능
2. 인프라 변경에 따른 노력과 에러 감소
3. 인프라 사용자에게 필요한 리소스 지원
4. 개발, 운영, 관리 간에 공통 도구 제공
5. 거버넌스, 보안, 규정 준수 제어 시각화
6. 장애 해결과 문제 분석 속도 향상

## 특성

### 1) 모든 것은 코드로 정의한다.
#### 재사용성
- 모든 것을 코드로 정의할 경우 인스턴스 단위로 빠르게 수정 후 빌드할 수 있다.
- 다른 사용자 역시 같은 인스턴스라면 바로 만들 수 있다.
#### 일관성
- 코드를 사용한 것은 항상 같은 방법을 사용한다.
- 시스템이 예측 가능해지며 테스트도 더욱 안정적으로 진행이 가능하고 CI/CD가 가능해진다.
#### 투명성
- 코드를 보면 시스템이 어떻게 구축되어 있는지 알 수 있다.
- 검토가 가능하고 리뷰도 가능하며 다른 코드에서 문제를 해결할 인사이트도 찾을 수 있다.

### 2) 코드를 지속적으로 테스트하고 딜리버리한다.
- 자동화를 사용하여 시스템의 각 컴포넌트를 배포하고 테스트하며 진행중인 모든 작업을 통합한다.
- CI에서는 개발 과정에서 모든 사람의 코드를 병합하고 테스트하는 작업을 한다.
- CD에서는 합쳐진 코드가 프로덕션 환경에서 배포 가능한지 테스트한다.
### 3) 시스템을 작고 간단하게 빌드한다.
- 크게 만들수록 결합도가 높아지고 변경이 어려우며 망가지기 쉽다.
- 컴포넌트 별로 이해하기 쉽고 간단하게 정의된 인터페이스를 가지게 하는 것이 좋다.
- 이를 통해 각 컴포넌트가 분리된 환경에서 테스트와 배포가 진행된다.
